<?php
use yii\helpers\Html;
use yii\widgets\ActiveForm;

/* @var $this yii\web\View */
/* @var $model common\models\Bots */
/* @var $form yii\widgets\ActiveForm */
if(!isset($model->av)){
    $model->av = '[[]]';
}
$av = json_decode($model->av);

if(!isset($model->soft)){
    $model->soft = '[]';
}
$soft = json_decode($model->soft);

if(!isset($model->ps)){
    $model->ps = '[]';
}
$ps = json_decode($model->ps);

foreach ($av[0] as $key => $value) {
    $model->avt .= $value.chr(13);
}
foreach ($soft as $key => $value) {
    $model->softt .= $value.chr(13);
}
foreach ($ps as $key => $value) {
    $model->pst .= $value.chr(13);
}
?>

<div class="bots-form">

    <?php $form = ActiveForm::begin(); ?>

    <?= $form->field($model, 'bot')->textInput(['maxlength' => true])->label('ID') ?>

    <?= $form->field($model, 'country')->textInput(['maxlength' => true]) ?>

    <?= $form->field($model, 'arch')->textInput(['maxlength' => true])->label('Architecture') ?>

    <?= $form->field($model, 'cname')->textInput(['maxlength' => true]) ?>

    <?= $form->field($model, 'path')->textInput()->label('Path started from') ?>

    <?= $form->field($model, 'uname')->textInput()->label('Username') ?>

    <?= $form->field($model, 'avt')->textarea(['rows' => 3])->label('Antivirus') ?>

    <?= $form->field($model, 'group')->textInput() ?>

    <?= $form->field($model, 'trust')->textarea(['rows' => 6])->label('Trust domain status') ?>

    <?= $form->field($model, 'net')->textarea(['rows' => 6])->label('Workgroup') ?>

    <?= $form->field($model, 'domain')->textInput(['maxlength' => true]) ?>

    <?= $form->field($model, 'softt')->textarea(['rows' => 16])->label('Installed software') ?>

    <?= $form->field($model, 'status')->textInput() ?>

    <?= $form->field($model, 'created_at')->textInput() ?>

    <?= $form->field($model, 'updated_at')->textInput() ?>

    <?= $form->field($model, 'ip')->textInput() ?>

    <?= $form->field($model, 'locale')->textInput() ?>

    <?= $form->field($model, 'tz')->textInput()->label('Time Zone') ?>

    <?= $form->field($model, 'pst')->textarea(['rows' => 6])->label('Running processes') ?>

    <?= $form->field($model, 'source')->textInput() ?>

    <?= $form->field($model, 'os')->textInput() ?>

  
	<?php if (!Yii::$app->request->isAjax){ ?>
	  	<div class="form-group">
	        <?= Html::submitButton($model->isNewRecord ? 'Create' : 'Update', ['class' => $model->isNewRecord ? 'btn btn-success' : 'btn btn-primary']) ?>
	    </div>
	<?php } ?>

    <?php ActiveForm::end(); ?>
    
</div>
