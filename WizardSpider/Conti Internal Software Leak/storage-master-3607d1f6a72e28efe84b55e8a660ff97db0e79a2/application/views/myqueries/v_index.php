<ol class="breadcrumb">
	<li class="active">My queries</li>
</ol>

<div class="col-md-6 col-md-offset-3">
<?=Form::open()?>
<table class="table table-striped">
	<thead>
		<tr style="font-weight: bold">
			<td style="width: 20px">
				<span class="glyphicon glyphicon-check"></span>
			</td>
			<td>
				Name
			</td>
			<td style="text-align: right;">
				Count
			</td>
            <td colspan="2" style="width: 1px;"></td>
		</tr>
	</thead>
	<tbody>
        <!-- List -->
		<? foreach($list as $item){ ?>
			<tr>
				<td style="line-height: 30px;">
					<input type="checkbox" name="check[]" value="<?php echo $item->id ?>">
				</td>
				<td style="line-height: 30px;">
					<?= $item->name;?>
				</td>
				<td style="text-align: right; line-height: 30px;">
                    <?= $item->countData(); ?>
				</td>
				<td style="width: 1px">
					<a class="btn btn-primary btn-sm" href="/myqueries/editor/<?php echo $item->id ?>">
						Edit <span class="glyphicon glyphicon-edit"></span>
					</a>
				</td>
			</tr>
		<? } ?>
	</tbody>
	<tfoot>
		<tr>
			<td colspan="5">
				<input type="checkbox" id="select_all">
				<a class="btn btn btn-success pull-right" href="/myqueries/editor/">
					<span class="glyphicon glyphicon-plus"></span>
				</a>
				<?=Form::button('remove', '<span class="glyphicon glyphicon-trash"></span>', ['style' => 'margin-right: 10px;', 'class' => 'btn btn-danger pull-right'])?>
			</td>
		</tr>
	</tfoot>
<table>
<?=Form::close()?>
</div>

<script>
    $(document).ready(function() {
        'use strict';
        
        $('#select_all').click(function(event){
            if(this.checked) {
                $(':checkbox').each(function() {
                    this.checked = true;
                });
            }else{
                $(':checkbox').each(function(){
                    this.checked = false;
                });
            }
        });
    });
</script>