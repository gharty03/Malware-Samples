<?php defined('SYSPATH') or die('No direct script access.');

class Task_Filler_Helper{
    public static function fill_simple($fields, $from, $to = null){
//	    DB::query(null, 'TRUNCATE '.$from.' RESTART IDENTITY CASCADE;');

	    $model = DB::select()
		    ->from($from)
		    ->execute('default')
	        ->as_array();

	    if(!empty($model)){
		    if($to == null){
			    $new = DB::insert($from, $fields);
		    }else{
			    $new = DB::insert($to, $fields);
		    }

		    foreach ($model as $m) {
			    $new->values(Arr::extract($m, $fields));
		    }
		    $new->execute();
	    }
    }
}