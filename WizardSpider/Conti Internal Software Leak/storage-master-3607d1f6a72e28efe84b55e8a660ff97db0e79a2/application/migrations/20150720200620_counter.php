<?php defined('SYSPATH') or die('No direct script access.');

class Counter extends Migration{

    public $schema = 'public';
    public $table = 'counter';

    public function up(){
        $this->run_query(DB::expr(
            "CREATE TABLE counter(
                name VARCHAR(255) PRIMARY KEY,
                id INTEGER
            );
        "));
            
        $this->run_query(DB::expr(
            "INSERT INTO counter (name, id) VALUES
                ('clients',0),
                ('cache_nets:client_id',0),
                ('fill_client',0),
                ('fill_log',0);
        "));
    }

    public function down(){
        $this->set_schema($this->schema);
        $this->drop_table($this->table);
    }
}