<?php defined('SYSPATH') or die('No direct script access.');

class create_exclude_clients extends Migration{

	public $schema = 'public';
	public $table = 'exclude_clients';

    public function up(){
	    $this->run_query(DB::expr(
		    "CREATE TABLE exclude_clients(
                id serial PRIMARY KEY,
                user_id INT REFERENCES users(id),
                client_id INT REFERENCES clients(id)
            );

            CREATE INDEX ON exclude_clients(user_id);
        "));
    }

    public function down(){
	    $this->set_schema($this->schema);
	    $this->drop_table($this->table);
    }
}