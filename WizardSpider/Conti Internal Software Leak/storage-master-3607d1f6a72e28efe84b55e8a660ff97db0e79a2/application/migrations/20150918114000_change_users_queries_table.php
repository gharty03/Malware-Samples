<?php defined('SYSPATH') or die('No direct script access.');

class Change_users_queries_table extends Migration
{
    public $schema = 'public';
    public $table = 'users_queries';

    public function up()
    {
        $this->rename_column($this->table, 'link_check_strong', 'link_strong', null);
        $this->rename_column($this->table, 'host_check_strong', 'host_strong', null);
        $this->add_column($this->table, 'version', ['integer', 'null' => true]);
        $this->add_column($this->table, 'ip', ['string', 'length' => 45, 'null' => false, 'default' => '']);
    }

    public function down()
    {
        $this->remove_column($this->table, 'ip');
        $this->remove_column($this->table, 'version');
        $this->rename_column($this->table, 'host_strong', 'host_check_strong', null);
        $this->rename_column($this->table, 'link_strong', 'link_check_strong', null);
    }
    
}