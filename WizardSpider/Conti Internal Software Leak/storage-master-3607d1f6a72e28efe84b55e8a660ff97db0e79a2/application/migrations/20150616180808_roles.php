<?php defined('SYSPATH') or die('No direct script access.');

class Roles extends Migration{

    public $schema = 'public';
    public $table = 'roles';

    public function up(){
        $this->run_query(DB::expr("
            CREATE TABLE roles(
                id serial PRIMARY KEY,
                name varchar(32) NOT NULL UNIQUE,
                description text NOT NULL
            );

            INSERT INTO roles (name, description) VALUES
                ('login','Login privileges'),
                ('admin', 'Administrative user');
        "));
    }

    public function down(){
        $this->set_schema($this->schema);
        $this->drop_table($this->table);
    }
}