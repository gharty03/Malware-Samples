<?php defined('SYSPATH') or die('No direct script access.');

class Create_counter_table extends Migration
{
    public $schema = 'public';
    public $table = 'counter';

    public function up()
    {
        $this->create_table(
            $this->table,
            [
                'name' => ['string', 'length' => 11, 'null' => false],
                'id' => ['integer', 'null' => true, 'default' => DB::expr('NULL')],
            ],
            false
        );
        $this->run_query('ALTER TABLE ' . $this->table . ' ADD PRIMARY KEY (name)');
    }

    public function down()
    {
        $this->drop_table($this->table);
    }
}